@model IEnumerable<Integratie.Domain.Entities.Graph.Graph>
@using Integratie.Domain.Entities.Graph;
@{
    
    ViewBag.Title = "Home Page";
}

<div>
    @ViewBag.Message;
    <table>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.GraphId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Account)
            </th>
            <th>
                Sort
            </th>
        </tr>
        @foreach(var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.GraphId)
                </td>
                <td>
                    null
                </td>
                <td>
                    @if(item.GetType() == typeof(BarChartGraph))
                    {
                        BarChartGraph graph = (BarChartGraph)item;
                        <span>Bar</span>
                    }

                </td>
            </tr>
        }
    </table>
@foreach (var item in Model)
{
    if (item.GetType() == typeof(BarChartGraph))
    {
        BarChartGraph graph = (BarChartGraph)item;
        <div>
            <canvas id="c" style="width:200px; height: 200px;"></canvas>
            
        </div>
    }
}


</div>
<script src="https://nodebox.live/api/v1/ndbx.js"></script>
<script>
    // Again, replace these with your own userId / projectId / functionId / canvasId
    var options = {
        userId: 'JanVH',
        projectId: 'demo',
        functionId: 'debtris',
        canvasId: 'c',
        autoplay: true
    };

    // Initialize the NodeBox player object
    ndbx.embed(options, function (err, player) {
        if (err) {
            throw new Error(err);
        } else {
            window.player = player;
        }
    });

    // This function is called when the size slider is dragged.
    function changeSize(e) {
        window.player.setValue('rect1', 'width', e.value);
        window.player.setValue('rect1', 'height', e.value);
    }

    // This function is called when the hue slider is dragged.
    function changeGrid(e) {
        window.player.setValue('grid1', 'columns', e.value);
        window.player.setValue('grid1', 'rows', e.value);
    }
</script>
